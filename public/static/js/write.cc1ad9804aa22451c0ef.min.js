webpackJsonp([4,22],{5:function(e,t,a){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{list:[]}},mounted:function(){var t=this,a=t.$route.path.split("/");e.post("http://www.bg-iddi.com/admin/menu/menu/",function(e){if(!e.errcode){for(var r=e.data,s=0;s<r.length;s++)for(var o=0;o<r[s].child.length;o++){if(r[s].child[o].url==a[1]){r[s].active="active";break}r[s].active=""}t.list=r}},"json")}}}).call(t,a(1))},6:function(e,t,a){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{user_name:""}},props:{title:{}},mounted:function(){for(var e=this,t=document.cookie,a=t.split("; "),r=0;r<a.length;r++){var s=a[r].split("=");"login_user_name"==s[0]&&(e.user_name=s[1])}},methods:{logout:function(){e.post("http://www.bg-iddi.com/admin/login/logout",function(e){e.errcode?alert(e.errmsg):window.location.reload()},"json")}}}}).call(t,a(1))},7:function(e,t,a){t=e.exports=a(3)(),t.push([e.id,".flat-blue .side-menu.sidebar-inverse .navbar li a{color:#fff}","",{version:3,sources:["/./src/components/navLeft.vue"],names:[],mappings:"AACA,mDAAmD,UAAU,CAC5D",file:"navLeft.vue",sourcesContent:["\n.flat-blue .side-menu.sidebar-inverse .navbar li a{color:#fff\n}"],sourceRoot:"webpack://"}])},8:function(e,t,a){t=e.exports=a(3)(),t.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",file:"navTop.vue",sourceRoot:"webpack://"}])},9:function(e,t,a){var r=a(7);"string"==typeof r&&(r=[[e.id,r,""]]);a(4)(r,{});r.locals&&(e.exports=r.locals)},10:function(e,t,a){var r=a(8);"string"==typeof r&&(r=[[e.id,r,""]]);a(4)(r,{});r.locals&&(e.exports=r.locals)},11:function(e,t,a){a(9);var r=a(2)(a(5),a(13),null,null);e.exports=r.exports},12:function(e,t,a){a(10);var r=a(2)(a(6),a(14),null,null);e.exports=r.exports},13:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"side-menu sidebar-inverse"},[a("nav",{staticClass:"navbar navbar-default",attrs:{role:"navigation"}},[a("div",{staticClass:"side-menu-container"},[e._m(0),e._v(" "),a("ul",{staticClass:"nav navbar-nav"},[e._l(e.list,function(t){return[2==t.level?a("li",{class:t.active},[a("a",{attrs:{"data-toggle":"collapse",href:"#"+t.id}},[a("span",{staticClass:"icon fa",class:t.icon}),a("span",{staticClass:"title"},[e._v(e._s(t.name))])]),e._v(" "),a("div",{staticClass:"panel-collapse collapse",attrs:{id:t.id}},[a("div",{staticClass:"panel-body"},[a("ul",{staticClass:"nav navbar-nav"},e._l(t.child,function(t){return a("li",[a("router-link",{attrs:{to:t.url}},[a("span",{staticClass:"icon fa",class:t.icon}),a("span",{staticClass:"title"},[e._v(e._s(t.title))])])],1)}))])])]):e._e()]})],2)])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"navbar-header"},[a("a",{staticClass:"navbar-brand",attrs:{href:"javascript:;"}},[a("div",{staticClass:"icon fa fa-paper-plane"}),e._v(" "),a("div",{staticClass:"title"},[e._v("对话阅读")])]),e._v(" "),a("button",{staticClass:"navbar-expand-toggle pull-right visible-xs",attrs:{type:"button"}},[a("i",{staticClass:"fa fa-times icon"})])])}]}},14:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar navbar-default navbar-fixed-top navbar-top"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"navbar-header"},[a("div",{staticClass:"navbar-expand-toggle"}),e._v(" "),a("ol",{staticClass:"breadcrumb navbar-breadcrumb"},[a("li",{staticClass:"active"},[e._v(e._s(e.title))])]),e._v(" "),e._m(0)]),e._v(" "),a("ul",{staticClass:"nav navbar-nav navbar-right"},[e._m(1),e._v(" "),a("li",{staticClass:"dropdown profile"},[a("a",{staticClass:"dropdown-toggle",attrs:{href:"#","data-toggle":"dropdown",role:"button","aria-expanded":"false"}},[e._v(e._s(e.user_name)+" "),a("span",{staticClass:"caret"})]),e._v(" "),a("ul",{staticClass:"dropdown-menu animated fadeInDown"},[a("li",{staticClass:"profile-img"}),e._v(" "),a("li",[a("div",{staticClass:"profile-info"},[a("h4",{staticClass:"username"},[e._v(e._s(e.user_name))]),e._v(" "),a("div",{staticClass:"btn-group margin-bottom-2x",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.logout}},[a("i",{staticClass:"fa fa-sign-out"}),e._v(" 退出")])])])])])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"navbar-right-expand-toggle pull-right visible-xs",attrs:{type:"button"}},[a("i",{staticClass:"fa fa-th icon"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"navbar-right-expand-toggle pull-right visible-xs",attrs:{type:"button"}},[a("i",{staticClass:"fa fa-times icon"})])}]}},42:function(e,t,a){e.exports={default:a(44),__esModule:!0}},43:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=a(42),o=r(s);t.default=function(e,t,a){return t in e?(0,o.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},44:function(e,t,a){a(57);var r=a(25).Object;e.exports=function(e,t,a){return r.defineProperty(e,t,a)}},57:function(e,t,a){var r=a(30);r(r.S+r.F*!a(19),"Object",{defineProperty:a(21).f})},178:function(e,t,a){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(43),o=r(s),i=a(12),l=r(i),n=a(11),c=r(n);t.default={name:"write",data:function(){var e;return{id:null,title:"写作",btn_title:"立即创建",ruleForm:{title:"",author:"",category:"",desc:"",is_best:"",is_recommend:"",across_img:"",vertical_img:"",chapters:""},author:[],category:[],rules:(e={title:[{required:!0,message:"请输入标题",trigger:"blur"}],author:[{required:!0,message:"请选择作者",trigger:"change"}],category:[{required:!0,message:"请选择分类",trigger:"change"}],is_best:[{required:!0,message:"是否精品",trigger:"change"}],is_recommend:[{required:!0,message:"是否推荐",trigger:"change"}]},(0,o.default)(e,"title",[{required:!0,message:"请输入简介",trigger:"blur"}]),(0,o.default)(e,"vertical_img",[{required:!0,message:"请上传竖版封面",trigger:"change"}]),(0,o.default)(e,"across_img",[{required:!0,message:"请上传横版封面",trigger:"change"}]),(0,o.default)(e,"chapters",[{required:!0,message:"请输入总章节",trigger:"blur"}]),e)}},components:{navTop:l.default,navLeft:c.default},mounted:function(){var t=this;console.log("11111111"),this.id=this.$route.query.id,this.id&&(this.title="编辑",this.btn_title="修改完成"),e.post("http://www.bg-iddi.com/admin/books/addinfo",{book_id:t.id},function(e){e.errcode?alert(e.errmsg):(t.author=e.data.author,t.category=e.data.category,e.data.value&&(t.ruleForm=e.data.value))},"json")},methods:{submitForm:function(t){var a=this;this.id?this.$refs[t].validate(function(t){var r=a;return t?(a.ruleForm.book_id=a.id,void e.post("http://www.bg-iddi.com/admin/books/edit",a.ruleForm,function(e){e.errcode?alert(e.errmsg):(r.open("编辑成功"),setTimeout(function(){r.$router.push({path:"/list"})},1e3))},"json")):(console.log("error submit!!"),!1)}):this.$refs[t].validate(function(t){var r=a;return t?void e.post("http://www.bg-iddi.com/admin/books/add",a.ruleForm,function(e){e.errcode?alert(e.errmsg):(r.open("添加成功"),setTimeout(function(){r.$router.push({path:"/content",query:{id:e.data}})},1e3))},"json"):(console.log("error submit!!"),!1)})},resetForm:function(e){this.$refs[e].resetFields()},handleAvatarSuccess1:function(e,t){this.ruleForm.vertical_img=t.response},handleAvatarSuccess2:function(e,t){this.ruleForm.across_img=t.response},beforeAvatarUpload:function(e){console.log(e);var t=e.size/1024/1024<1;return t||this.$message.error("上传头像图片大小不能超过 1MB!"),t},open:function(e){this.$message({message:e,type:"success"})}}}}).call(t,a(1))},220:function(e,t,a){t=e.exports=a(3)(),t.push([e.id,".avatar-uploader .el-upload[data-v-4071fe10]{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload[data-v-4071fe10]:hover{border-color:#409eff}.avatar-uploader-icon[data-v-4071fe10]{font-size:28px;color:#8c939d;width:178px;height:178px;line-height:178px;text-align:center}.avatar[data-v-4071fe10]{width:178px;height:178px;display:block}","",{version:3,sources:["/./src/page/read/write.vue"],names:[],mappings:"AACA,6CACE,0BAA2B,AAC3B,kBAAmB,AACnB,eAAgB,AAChB,kBAAmB,AACnB,eAAiB,CAClB,AACD,mDACE,oBAAsB,CACvB,AACD,uCACE,eAAgB,AAChB,cAAe,AACf,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,iBAAmB,CACpB,AACD,yBACE,YAAa,AACb,aAAc,AACd,aAAe,CAChB",file:"write.vue",sourcesContent:["\n.avatar-uploader .el-upload[data-v-4071fe10] {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload[data-v-4071fe10]:hover {\n  border-color: #409EFF;\n}\n.avatar-uploader-icon[data-v-4071fe10] {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n.avatar[data-v-4071fe10] {\n  width: 178px;\n  height: 178px;\n  display: block;\n}\n"],sourceRoot:"webpack://"}])},265:function(e,t,a){var r=a(220);"string"==typeof r&&(r=[[e.id,r,""]]);a(4)(r,{});r.locals&&(e.exports=r.locals)},317:function(e,t,a){a(265);var r=a(2)(a(178),a(325),"data-v-4071fe10",null);e.exports=r.exports},325:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home_container"},[a("navTop",{attrs:{title:e.title}}),e._v(" "),a("navLeft"),e._v(" "),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"side-body padding-top"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"作者",prop:"author"}},[a("el-select",{attrs:{placeholder:"请选择作者"},model:{value:e.ruleForm.author,callback:function(t){e.$set(e.ruleForm,"author",t)},expression:"ruleForm.author"}},e._l(e.author,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"分类",prop:"category"}},[a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.ruleForm.category,callback:function(t){e.$set(e.ruleForm,"category",t)},expression:"ruleForm.category"}},e._l(e.category,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"是否精品",prop:"is_best"}},[a("el-radio-group",{model:{value:e.ruleForm.is_best,callback:function(t){e.$set(e.ruleForm,"is_best",t)},expression:"ruleForm.is_best"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否推荐",prop:"is_recommend"}},[a("el-radio-group",{model:{value:e.ruleForm.is_recommend,callback:function(t){e.$set(e.ruleForm,"is_recommend",t)},expression:"ruleForm.is_recommend"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"总章节",prop:"chapters"}},[a("el-input",{model:{value:e.ruleForm.chapters,callback:function(t){e.$set(e.ruleForm,"chapters",t)},expression:"ruleForm.chapters"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"简介",prop:"desc"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.desc,callback:function(t){e.$set(e.ruleForm,"desc",t)},expression:"ruleForm.desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"竖版封面",prop:"vertical_img"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://www.bg-iddi.com/admin/books/bin2img","show-file-list":!1,"on-success":e.handleAvatarSuccess1,"before-upload":e.beforeAvatarUpload},model:{value:e.ruleForm.vertical_img,callback:function(t){e.$set(e.ruleForm,"vertical_img",t)},expression:"ruleForm.vertical_img"}},[e.ruleForm.vertical_img?a("img",{staticClass:"avatar",attrs:{src:e.ruleForm.vertical_img}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"横版封面",prop:"across_img"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://www.bg-iddi.com/admin/books/bin2img","show-file-list":!1,"on-success":e.handleAvatarSuccess2,"before-upload":e.beforeAvatarUpload},model:{value:e.ruleForm.across_img,callback:function(t){e.$set(e.ruleForm,"across_img",t)},expression:"ruleForm.across_img"}},[e.ruleForm.across_img?a("img",{staticClass:"avatar",attrs:{src:e.ruleForm.across_img}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v(e._s(e.btn_title))]),e._v(" "),a("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)])],1)},staticRenderFns:[]}}});