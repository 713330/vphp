webpackJsonp([6,22],{5:function(t,e,a){(function(t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{list:[]}},mounted:function(){var e=this,a=e.$route.path.split("/");t.post("http://www.bg-iddi.com/admin/menu/menu/",function(t){if(!t.errcode){for(var s=t.data,r=0;r<s.length;r++)for(var i=0;i<s[r].child.length;i++){if(s[r].child[i].url==a[1]){s[r].active="active";break}s[r].active=""}e.list=s}},"json")}}}).call(e,a(1))},6:function(t,e,a){(function(t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{user_name:""}},props:{title:{}},mounted:function(){for(var t=this,e=document.cookie,a=e.split("; "),s=0;s<a.length;s++){var r=a[s].split("=");"login_user_name"==r[0]&&(t.user_name=r[1])}},methods:{logout:function(){t.post("http://www.bg-iddi.com/admin/login/logout",function(t){t.errcode?alert(t.errmsg):window.location.reload()},"json")}}}}).call(e,a(1))},7:function(t,e,a){e=t.exports=a(3)(),e.push([t.id,".flat-blue .side-menu.sidebar-inverse .navbar li a{color:#fff}","",{version:3,sources:["/./src/components/navLeft.vue"],names:[],mappings:"AACA,mDAAmD,UAAU,CAC5D",file:"navLeft.vue",sourcesContent:["\n.flat-blue .side-menu.sidebar-inverse .navbar li a{color:#fff\n}"],sourceRoot:"webpack://"}])},8:function(t,e,a){e=t.exports=a(3)(),e.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",file:"navTop.vue",sourceRoot:"webpack://"}])},9:function(t,e,a){var s=a(7);"string"==typeof s&&(s=[[t.id,s,""]]);a(4)(s,{});s.locals&&(t.exports=s.locals)},10:function(t,e,a){var s=a(8);"string"==typeof s&&(s=[[t.id,s,""]]);a(4)(s,{});s.locals&&(t.exports=s.locals)},11:function(t,e,a){a(9);var s=a(2)(a(5),a(13),null,null);t.exports=s.exports},12:function(t,e,a){a(10);var s=a(2)(a(6),a(14),null,null);t.exports=s.exports},13:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side-menu sidebar-inverse"},[a("nav",{staticClass:"navbar navbar-default",attrs:{role:"navigation"}},[a("div",{staticClass:"side-menu-container"},[t._m(0),t._v(" "),a("ul",{staticClass:"nav navbar-nav"},[t._l(t.list,function(e){return[2==e.level?a("li",{class:e.active},[a("a",{attrs:{"data-toggle":"collapse",href:"#"+e.id}},[a("span",{staticClass:"icon fa",class:e.icon}),a("span",{staticClass:"title"},[t._v(t._s(e.name))])]),t._v(" "),a("div",{staticClass:"panel-collapse collapse",attrs:{id:e.id}},[a("div",{staticClass:"panel-body"},[a("ul",{staticClass:"nav navbar-nav"},t._l(e.child,function(e){return a("li",[a("router-link",{attrs:{to:e.url}},[a("span",{staticClass:"icon fa",class:e.icon}),a("span",{staticClass:"title"},[t._v(t._s(e.title))])])],1)}))])])]):t._e()]})],2)])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar-header"},[a("a",{staticClass:"navbar-brand",attrs:{href:"javascript:;"}},[a("div",{staticClass:"icon fa fa-paper-plane"}),t._v(" "),a("div",{staticClass:"title"},[t._v("对话阅读")])]),t._v(" "),a("button",{staticClass:"navbar-expand-toggle pull-right visible-xs",attrs:{type:"button"}},[a("i",{staticClass:"fa fa-times icon"})])])}]}},14:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-default navbar-fixed-top navbar-top"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"navbar-header"},[a("div",{staticClass:"navbar-expand-toggle"}),t._v(" "),a("ol",{staticClass:"breadcrumb navbar-breadcrumb"},[a("li",{staticClass:"active"},[t._v(t._s(t.title))])]),t._v(" "),t._m(0)]),t._v(" "),a("ul",{staticClass:"nav navbar-nav navbar-right"},[t._m(1),t._v(" "),a("li",{staticClass:"dropdown profile"},[a("a",{staticClass:"dropdown-toggle",attrs:{href:"#","data-toggle":"dropdown",role:"button","aria-expanded":"false"}},[t._v(t._s(t.user_name)+" "),a("span",{staticClass:"caret"})]),t._v(" "),a("ul",{staticClass:"dropdown-menu animated fadeInDown"},[a("li",{staticClass:"profile-img"}),t._v(" "),a("li",[a("div",{staticClass:"profile-info"},[a("h4",{staticClass:"username"},[t._v(t._s(t.user_name))]),t._v(" "),a("div",{staticClass:"btn-group margin-bottom-2x",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.logout}},[a("i",{staticClass:"fa fa-sign-out"}),t._v(" 退出")])])])])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-right-expand-toggle pull-right visible-xs",attrs:{type:"button"}},[a("i",{staticClass:"fa fa-th icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-right-expand-toggle pull-right visible-xs",attrs:{type:"button"}},[a("i",{staticClass:"fa fa-times icon"})])}]}},180:function(t,e,a){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(12),i=s(r),o=a(11),n=s(o);e.default={name:"write",data:function(){return{title:"添加商品",btn_title:"立即创建",id:null,ruleForm:{name:"",summary:"",point:"",content:"",cover:"",id:"",amount:"",fileList:[]},fileList2:[],rules:{name:[{required:!0,message:"请输入名字",trigger:"blur"}],summary:[{required:!0,message:"请输入描述",trigger:"blur"}],point:[{required:!0,message:"请输入积分",trigger:"blur"}],content:[{required:!0,message:"请输入文字",trigger:"blur"}],amount:[{required:!0,message:"请输入库存",trigger:"blur"}],cover:[{required:!0,message:"请上传封面图",trigger:"change"}],fileList:[{required:!0,message:"请上传图片",trigger:"change"}]}}},components:{navTop:i.default,navLeft:n.default},mounted:function(){var e=this;this.id=this.$route.query.id,this.id&&(e.title="编辑商品",e.btn_title="修改完成",t.post("http://www.bg-iddi.com/admin/product/info/",{id:e.id},function(t){t.data?(e.ruleForm=t.data,console.log(1)):console.log(2)},"json"))},methods:{submitForm:function(e){var a=this,s=this;this.id?this.$refs[e].validate(function(e){return e?(a.ruleForm.id=a.id,void t.post("http://www.bg-iddi.com/admin/product/edit/",a.ruleForm,function(t){t.errcode?alert(t.errmsg):(s.open("修改完成"),s.resetForm("ruleForm"),s.$router.go(-1))},"json")):(console.log("error submit!!"),!1)}):this.$refs[e].validate(function(e){return e?void t.post("http://www.bg-iddi.com/admin/product/add/",a.ruleForm,function(t){t.errcode?alert(t.errmsg):(s.open("添加成功"),setTimeout(function(){location.reload()},500))},"json"):(console.log("error submit!!"),!1)})},resetForm:function(t){this.$refs[t].resetFields()},handleAvatarSuccess:function(t,e){this.ruleForm.cover=e.response},beforeAvatarUpload:function(t){var e=t.size/1024/1024<1;return e||this.$message.error("上传头像图片大小不能超过 1MB!"),e},handleSuccess:function(t,e){var a={};a.url=e.response,a.name=e.name,this.ruleForm.fileList.push(a)},handleRemove:function(t,e){console.log(t,e);for(var a=0;a<this.ruleForm.fileList.length;a++)this.ruleForm.fileList[a].url==t.url&&this.ruleForm.fileList.splice(a,1)},open:function(t){this.$message({message:t,type:"success"})}}}}).call(e,a(1))},222:function(t,e,a){e=t.exports=a(3)(),e.push([t.id,".avatar-uploader-icon[data-v-4ece22c0]{font-size:28px;color:#8c939d;width:90px;height:90px;line-height:90px;text-align:center}.avatar_img[data-v-4ece22c0]{width:90px;height:90px;display:block}","",{version:3,sources:["/./src/page/shop/upload.vue"],names:[],mappings:"AACA,uCAAuC,eAAe,cAAc,WAAW,YAAY,iBAAiB,iBAAiB,CAC5H,AACD,6BAA6B,WAAW,YAAY,aAAa,CAChE",file:"upload.vue",sourcesContent:["\n.avatar-uploader-icon[data-v-4ece22c0]{font-size:28px;color:#8c939d;width:90px;height:90px;line-height:90px;text-align:center\n}\n.avatar_img[data-v-4ece22c0]{width:90px;height:90px;display:block\n}"],sourceRoot:"webpack://"}])},267:function(t,e,a){var s=a(222);"string"==typeof s&&(s=[[t.id,s,""]]);a(4)(s,{});s.locals&&(t.exports=s.locals)},319:function(t,e,a){a(267);var s=a(2)(a(180),a(327),"data-v-4ece22c0",null);t.exports=s.exports},327:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home_container"},[a("navTop",{attrs:{title:t.title}}),t._v(" "),a("navLeft"),t._v(" "),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"side-body padding-top"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"封面图片",prop:"cover"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://www.bg-iddi.com/admin/books/bin2img","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload},model:{value:t.ruleForm.url,callback:function(e){t.$set(t.ruleForm,"url",e)},expression:"ruleForm.url"}},[t.ruleForm.cover?a("img",{staticClass:"avatar avatar_img",attrs:{src:t.ruleForm.cover}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"summary"}},[a("el-input",{model:{value:t.ruleForm.summary,callback:function(e){t.$set(t.ruleForm,"summary",e)},expression:"ruleForm.summary"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"积分",prop:"point"}},[a("el-input",{model:{value:t.ruleForm.point,callback:function(e){t.$set(t.ruleForm,"point",e)},expression:"ruleForm.point"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"库存",prop:"amount"}},[a("el-input",{model:{value:t.ruleForm.amount,callback:function(e){t.$set(t.ruleForm,"amount",e)},expression:"ruleForm.amount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"文字",prop:"content"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.ruleForm.content,callback:function(e){t.$set(t.ruleForm,"content",e)},expression:"ruleForm.content"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"",prop:""}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"http://www.bg-iddi.com/admin/books/bin2img","on-remove":t.handleRemove,"file-list":t.ruleForm.fileList,"on-success":t.handleSuccess,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v(t._s(t.btn_title))]),t._v(" "),a("el-button",{on:{click:function(e){t.resetForm("ruleForm")}}},[t._v("重置")])],1)],1)],1)])],1)},staticRenderFns:[]}}});