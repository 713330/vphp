webpackJsonp([17,22],{5:function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{list:[]}},mounted:function(){var t=this,i=t.$route.path.split("/");e.post("http://www.bg-iddi.com/admin/menu/menu/",function(e){if(!e.errcode){for(var l=e.data,a=0;a<l.length;a++)for(var s=0;s<l[a].child.length;s++){if(l[a].child[s].url==i[1]){l[a].active="active";break}l[a].active=""}t.list=l}},"json")}}}).call(t,i(1))},6:function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{user_name:""}},props:{title:{}},mounted:function(){for(var e=this,t=document.cookie,i=t.split("; "),l=0;l<i.length;l++){var a=i[l].split("=");"login_user_name"==a[0]&&(e.user_name=a[1])}},methods:{logout:function(){e.post("http://www.bg-iddi.com/admin/login/logout",function(e){e.errcode?alert(e.errmsg):window.location.reload()},"json")}}}}).call(t,i(1))},7:function(e,t,i){t=e.exports=i(3)(),t.push([e.id,".flat-blue .side-menu.sidebar-inverse .navbar li a{color:#fff}","",{version:3,sources:["/./src/components/navLeft.vue"],names:[],mappings:"AACA,mDAAmD,UAAU,CAC5D",file:"navLeft.vue",sourcesContent:["\n.flat-blue .side-menu.sidebar-inverse .navbar li a{color:#fff\n}"],sourceRoot:"webpack://"}])},8:function(e,t,i){t=e.exports=i(3)(),t.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",file:"navTop.vue",sourceRoot:"webpack://"}])},9:function(e,t,i){var l=i(7);"string"==typeof l&&(l=[[e.id,l,""]]);i(4)(l,{});l.locals&&(e.exports=l.locals)},10:function(e,t,i){var l=i(8);"string"==typeof l&&(l=[[e.id,l,""]]);i(4)(l,{});l.locals&&(e.exports=l.locals)},11:function(e,t,i){i(9);var l=i(2)(i(5),i(13),null,null);e.exports=l.exports},12:function(e,t,i){i(10);var l=i(2)(i(6),i(14),null,null);e.exports=l.exports},13:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"side-menu sidebar-inverse"},[i("nav",{staticClass:"navbar navbar-default",attrs:{role:"navigation"}},[i("div",{staticClass:"side-menu-container"},[e._m(0),e._v(" "),i("ul",{staticClass:"nav navbar-nav"},[e._l(e.list,function(t){return[2==t.level?i("li",{class:t.active},[i("a",{attrs:{"data-toggle":"collapse",href:"#"+t.id}},[i("span",{staticClass:"icon fa",class:t.icon}),i("span",{staticClass:"title"},[e._v(e._s(t.name))])]),e._v(" "),i("div",{staticClass:"panel-collapse collapse",attrs:{id:t.id}},[i("div",{staticClass:"panel-body"},[i("ul",{staticClass:"nav navbar-nav"},e._l(t.child,function(t){return i("li",[i("router-link",{attrs:{to:t.url}},[i("span",{staticClass:"icon fa",class:t.icon}),i("span",{staticClass:"title"},[e._v(e._s(t.title))])])],1)}))])])]):e._e()]})],2)])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"navbar-header"},[i("a",{staticClass:"navbar-brand",attrs:{href:"javascript:;"}},[i("div",{staticClass:"icon fa fa-paper-plane"}),e._v(" "),i("div",{staticClass:"title"},[e._v("对话阅读")])]),e._v(" "),i("button",{staticClass:"navbar-expand-toggle pull-right visible-xs",attrs:{type:"button"}},[i("i",{staticClass:"fa fa-times icon"})])])}]}},14:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("nav",{staticClass:"navbar navbar-default navbar-fixed-top navbar-top"},[i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"navbar-header"},[i("div",{staticClass:"navbar-expand-toggle"}),e._v(" "),i("ol",{staticClass:"breadcrumb navbar-breadcrumb"},[i("li",{staticClass:"active"},[e._v(e._s(e.title))])]),e._v(" "),e._m(0)]),e._v(" "),i("ul",{staticClass:"nav navbar-nav navbar-right"},[e._m(1),e._v(" "),i("li",{staticClass:"dropdown profile"},[i("a",{staticClass:"dropdown-toggle",attrs:{href:"#","data-toggle":"dropdown",role:"button","aria-expanded":"false"}},[e._v(e._s(e.user_name)+" "),i("span",{staticClass:"caret"})]),e._v(" "),i("ul",{staticClass:"dropdown-menu animated fadeInDown"},[i("li",{staticClass:"profile-img"}),e._v(" "),i("li",[i("div",{staticClass:"profile-info"},[i("h4",{staticClass:"username"},[e._v(e._s(e.user_name))]),e._v(" "),i("div",{staticClass:"btn-group margin-bottom-2x",attrs:{role:"group"}},[i("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.logout}},[i("i",{staticClass:"fa fa-sign-out"}),e._v(" 退出")])])])])])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"navbar-right-expand-toggle pull-right visible-xs",attrs:{type:"button"}},[i("i",{staticClass:"fa fa-th icon"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"navbar-right-expand-toggle pull-right visible-xs",attrs:{type:"button"}},[i("i",{staticClass:"fa fa-times icon"})])}]}},165:function(e,t,i){(function(e){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(12),s=l(a),n=i(11),c=l(n);t.default={name:"write",data:function(){return{id:null,title:"添加账号",btn_title:"立即创建",disabled:!1,ruleForm:{id:null,role:""},roleList:[],rules:{role:[{required:!0,message:"请选择角色",trigger:"change"}]},list:[]}},components:{navTop:s.default,navLeft:c.default},mounted:function(){var t=this,i={id:null};t.ruleForm=i,this.id=this.$route.query.id,this.id?(this.title="编辑",this.btn_title="修改完成",this.disabled=!0):this.disabled=!1,e.post("http://www.bg-iddi.com/admin/purview/info",{id:t.id},function(e){if(e.errcode)alert(e.errmsg);else{t.roleList=e.data.roles;for(var i=e.data.list,l=0;l<i.length;l++)for(var a=0;a<i[l].child.length;a++){for(var s=0;s<i[l].child[a].action.length;s++)switch(i[l].child[a].action[s]){case"lists":i[l].child[a].action[s]="列表";break;case"view":i[l].child[a].action[s]="查看";break;case"add":i[l].child[a].action[s]="添加";break;case"edit":i[l].child[a].action[s]="修改";break;case"delete":i[l].child[a].action[s]="删除"}if(null!=i[l].child[a].checked)for(var s=0;s<i[l].child[a].checked.length;s++)switch(i[l].child[a].checked[s]){case"lists":i[l].child[a].checked[s]="列表";break;case"view":i[l].child[a].checked[s]="查看";break;case"add":i[l].child[a].checked[s]="添加";break;case"edit":i[l].child[a].checked[s]="修改";break;case"delete":i[l].child[a].checked[s]="删除"}else console.log("ggg")}t.list=i,console.log(t.list,2222),e.data.data&&(t.ruleForm.role=e.data.data.role)}},"json")},methods:{submitForm:function(t){for(var i=this,l=this,a=[],s=0;s<l.list.length;s++){console.log(l.list[s].child.length,999);for(var n=0;n<l.list[s].child.length;n++)if(null!=l.list[s].child[n].checked){for(var c=0;c<l.list[s].child[n].checked.length;c++)switch(l.list[s].child[n].checked[c]){case"列表":l.list[s].child[n].checked[c]="lists";break;case"查看":l.list[s].child[n].checked[c]="view";break;case"添加":l.list[s].child[n].checked[c]="add";break;case"修改":l.list[s].child[n].checked[c]="edit";break;case"删除":l.list[s].child[n].checked[c]="delete"}var r={};l.list[s].child[n].checked.length>0&&(r.id=l.list[s].child[n].id,r.data=l.list[s].child[n].checked),a.push(r)}}this.id?this.$refs[t].validate(function(t){var l=i;return t?(i.ruleForm.id=i.id,void e.post("http://www.bg-iddi.com/admin/purview/edit",{checkbox:a,role:i.ruleForm.role,id:i.id},function(e){e.errcode?alert(e.errmsg):(l.open("编辑成功"),setTimeout(function(){l.$router.go(-1)},1e3))},"json")):(console.log("error submit!!"),!1)}):this.$refs[t].validate(function(t){return t?void e.post("http://www.bg-iddi.com/admin/purview/add",{checkbox:a,role:i.ruleForm.role},function(e){e.errcode?alert(e.errmsg):(l.open("添加成功"),setTimeout(function(){window.location.reload()},1e3))},"json"):(console.log("error submit!!"),!1)})},resetForm:function(e){this.$refs[e].resetFields()},open:function(e){this.$message({message:e,type:"success"})},handleCheckAllChange:function(e,t,i){var l=this;if(console.log(this.list,777),"parent"==i){for(var a=0;a<l.list.length;a++)if(l.list[a].id==t)for(var s=0;s<l.list[a].child.length;s++)l.list[a].child[s].checked=e?l.list[a].child[s].action:[],l.list[a].child[s].isChildAll=e,l.list[a].isAll=!1}else{console.log(e,t,i);for(var a=0;a<l.list.length;a++)for(var s=0;s<l.list[a].child.length;s++)l.list[a].child[s].id==t&&(console.log(111),l.list[a].child[s].checked=e?l.list[a].child[s].action:[],l.list[a].child[s].isChildAll=!1)}},handleCheckedCitiesChange:function(e,t){console.log(this.list,8888)}}}}).call(t,i(1))},230:function(e,t,i){t=e.exports=i(3)(),t.push([e.id,".el-checkbox-group[data-v-9c43b14c]{margin-left:25px}","",{version:3,sources:["/./src/page/admin/purview_add.vue"],names:[],mappings:"AACA,oCAAqC,gBAAkB,CACtD",file:"purview_add.vue",sourcesContent:["\n.el-checkbox-group[data-v-9c43b14c]{ margin-left: 25px;\n}\n"],sourceRoot:"webpack://"}])},276:function(e,t,i){var l=i(230);"string"==typeof l&&(l=[[e.id,l,""]]);i(4)(l,{});l.locals&&(e.exports=l.locals)},305:function(e,t,i){i(276);var l=i(2)(i(165),i(337),"data-v-9c43b14c",null);e.exports=l.exports},337:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"home_container"},[i("navTop",{attrs:{title:e.title}}),e._v(" "),i("navLeft"),e._v(" "),i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"side-body padding-top"},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"角色",prop:"name"}},[i("el-select",{attrs:{placeholder:"请选择角色",disabled:e.disabled},model:{value:e.ruleForm.role,callback:function(t){e.$set(e.ruleForm,"role",t)},expression:"ruleForm.role"}},e._l(e.roleList,function(e){return i("el-option",{key:e.title,attrs:{label:e.title,value:e.title}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"权限",prop:"pruview"}},e._l(e.list,function(t){return i("div",[i("el-checkbox",{attrs:{indeterminate:t.isAll},on:{change:function(i){e.handleCheckAllChange(t.checkAll,t.id,"parent")}},model:{value:t.checkAll,callback:function(i){e.$set(t,"checkAll",i)},expression:"item.checkAll"}},[e._v(e._s(t.title))]),e._v(" "),e._l(t.child,function(t){return i("div",{staticStyle:{"margin-left":"25px"}},[i("el-checkbox",{attrs:{indeterminate:t.isChildAll},on:{change:function(i){e.handleCheckAllChange(t.childCheckAll,t.id,"child")}},model:{value:t.childCheckAll,callback:function(i){e.$set(t,"childCheckAll",i)},expression:"item.childCheckAll"}},[e._v(e._s(t.name))]),e._v(" "),i("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:t.checked,callback:function(i){e.$set(t,"checked",i)},expression:"item.checked"}},e._l(t.action,function(t){return i("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])}))],1)})],2)})),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v(e._s(e.btn_title))])],1)],1)],1)])],1)},staticRenderFns:[]}}});